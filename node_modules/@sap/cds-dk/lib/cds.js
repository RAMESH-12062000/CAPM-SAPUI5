/** @type { import('@sap/cds/lib') } */
const cds = _local ('@sap/cds')

module.exports = Object.defineProperties (cds, {
  // for internal use in cds-dk only
  _log: { value: _local ('../bin/util/log'), configurable: true },
  _local: { value: _local, configurable: true },
})

function _local (id) {
  return require(require.resolve (id, {paths:[
    process.cwd(), // project-local module is preferred
    __dirname      // otherwise from our own dependencies
  ]}))
}
