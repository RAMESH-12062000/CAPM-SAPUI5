---
srv:
  bindings:
    {{#isJava}}
    saas-registry:
      serviceInstanceName: saas-registry
    {{/isJava}}
    service-manager:
      serviceInstanceName: service-manager
{{#hasXsuaa}}
xsuaa:
  parameters:
    tenant-mode: shared
{{/hasXsuaa}}
service-manager:
  serviceOfferingName: service-manager
  servicePlanName: container
saas-registry:
  serviceOfferingName: saas-registry
  servicePlanName: application
saasRegistryParameters:
  xsappname: {{appName}}
  appName: {{appName}}
  displayName: {{appName}}
  description: {{appDescription}}
  category: "CAP Application"
{{#isNodejs}}
  bindSidecar: true
{{/isNodejs}}
  appUrls:
    {{#isNodejs}}
    getDependencies: "/-/cds/saas-provisioning/dependencies"
    onSubscription: "/-/cds/saas-provisioning/tenant/{tenantId}"
    {{/isNodejs}}
    {{#isJava}}
    getDependencies: "/mt/v1.0/subscriptions/dependencies"
    onSubscription: "/mt/v1.0/subscriptions/tenants/{tenantId}"
    {{/isJava}}
    onSubscriptionAsync: true
    onUnSubscriptionAsync: true
    onUpdateDependenciesAsync: true
    callbackTimeoutMillis: 300000
sidecar:
  bindings:
    {{#hasXsuaa}}
    auth:
      serviceInstanceName: xsuaa
    {{/hasXsuaa}}
    {{#isNodejs}}
    saas-registry:
      serviceInstanceName: saas-registry
    {{/isNodejs}}
    service-manager:
      serviceInstanceName: service-manager
  image:
    repository: <your-container-registry>/{{appName}}-sidecar
    tag: latest
  resources:
    limits:
      ephemeral-storage: 1G
      memory: 500M
    requests:
      ephemeral-storage: 1G
      cpu: 500m
      memory: 500M
  health:
    liveness:
      path: /health
    readiness:
      path: /health
